# Setup repository.
$ exec git init
$ exec git config user.email "email"
$ exec git config user.name "name"
$ exec git add .gitignore
$ exec git add .
$ exec git commit -m 'initial commit'
# build buf image
# version published at 0.0.1-SNAPSHOT
> publishLocal
# assert buf files were created
#$ exec test -f src/main/protobuf/buf.yaml
#$ exec test -f target/protobuf_external/buf.yaml
$ exec test -f buf.work.yaml
# assert buf image was created
$ exec test -f target/buf/buf-workingdir-image.bin
#$ exec test -f ~/.ivy2/local/testsbtbufhappypath/testsbtbufhappypath_2.13/0.0.1-SNAPSHOT/buf-images/testsbtbufhappypath_2.13-buf.bin
# make some changes to the proto messages
$ exec sed -i'' 's/string another_value/google.protobuf.StringValue another_value/g' src/main/protobuf/pkg/test.proto
-> bufCompatCheck 0.0.1
$ pause
> bufLint
$ exec sed -i'' 's/version := "0.0.1-SNAPSHOT"/version := "0.0.1"/g' build.sbt


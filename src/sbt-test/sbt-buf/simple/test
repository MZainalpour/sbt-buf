# Setup repository.
$ exec git init
$ exec git config user.email "email"
$ exec git config user.name "name"
$ exec git add .gitignore
$ exec git add .
$ exec git commit -m 'initial commit'
# build buf image
# version published at 0.0.1-SNAPSHOT
> publishLocal
# assert buf files were created
$ exec test -f src/main/protobuf/buf.yaml
$ exec test -f target/protobuf_external/buf.yaml
$ exec test -f buf.work.yaml
# assert buf image was created
$ exec test -f target/buf/buf-workingdir-image.bin
# test lint task
> bufLint
# make some changes to the proto message to introduce a linting error (camel case vs snake-case), and a breaking change (field type change)
$ exec sed -i'' 's/string another_value/google.protobuf.StringValue anotherValue/g' src/main/protobuf/pkg/v1/test.proto
-> bufCompatCheck 0.0.1
-> bufLint


